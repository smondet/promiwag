<!DOCTYPE html
PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- Generated with Dibrawi, BraceTax, Sebib, and some more hacks -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<style type="text/css">
body {
   color: #070707;
   background-color: #f8f8f8;
}
 {
   color: #070707;
   background-color: #f8f8f8;
}
a:link {
   color: #D62111;
}
a:visited {
   color: #8F1310;
}
a:hover {
   background-color: #44E157;
}
tt {
   color: #135510;
}pre {
   color: #135510;
}code {
   color: #135510;
}
.dbwmixcode {
   background-color: #ddd;
}
div.figure:after {
   color: #D62111;
}caption.tablefigure:after {
   color: #D62111;
}
body {
   font-family: sans-serif;
   text-align: none;
   font-size: 70%;

}
 {
   font-family: sans-serif;
   text-align: none;
   font-size: 70%;

}
div.header {
   text-align: center;

}
h1 {
   font-size: 200%;
   font-variant: small-caps;

}
div.authors {
   font-size: 110%;

}
div.subtitle {
   font-size: 110%;
   font-style: italic;
}
h2 {
   font-size: 180%;

}
h3 {
   font-size: 150%;

}
h4 {
   font-size: 130%;

}
h5 {
   font-size: 108%;

}
a {
   text-decoration: underline thin;
}
tt,code,pre {
   font-family: monospace;

}
div.figure,div.tablefigure {
   font-size: 90%;

}
.content body {
   font-family: serif;
   text-align: justify;
   font-size: 120%;

}
.content  {
   font-family: serif;
   text-align: justify;
   font-size: 120%;

}
.content div.header {
   text-align: center;

}
.content h1 {
   font-size: 200%;
   font-variant: small-caps;

}
.content div.authors {
   font-size: 110%;

}
.content div.subtitle {
   font-size: 110%;
   font-style: italic;
}
.content h2 {
   font-size: 180%;

}
.content h3 {
   font-size: 150%;

}
.content h4 {
   font-size: 130%;

}
.content h5 {
   font-size: 108%;

}
.content a {
   text-decoration: underline thin;
}
.content tt,code,pre {
   font-family: monospace;

}
.content div.figure,div.tablefigure {
   font-size: 90%;

}
div.header {
    text-align: center;
    border:  #8F1310 solid 7px;
    padding-top:    2.1em;
    padding-bottom: 2.05em;
    margin-bottom: 3em;
}
div.p {
    padding-bottom: 0em;
}
div.p + div.p { padding-top: 0.5em; }
body {overflow: auto;}
code,pre {overflow: auto}
blockquote {
    border-left: 2px solid #8F1310;
    padding-left: 1em;
}
ul, ol {
    padding-top: 0em;
    padding-bottom: 0em;
    padding-left:  1.8em;
    margin-top: 0em;
    margin-bottom: 0em;
}
.dibrawicomment:before { content:  "["; }
.dibrawicomment:after { content: "]"; }
.dibrawicomment {
    background-color: yellow;
    color: red;
}
.dibrawimenudir { display: block; }
         ul  li.dibrawi_menuli {
           display: inline;
         } 
         ul.dibrawi_menuul {
           padding: 0em;
           margin: 0em;
           margin-left: 1em;
         }
table.tablefigure {
    margin-right:auto;
    margin-left: auto;
    border-collapse: collapse;
    min-width: 80%;
    margin-bottom: 1em;
}
caption.tablefigure {
    caption-side:bottom;
}
div.figure:after, caption.tablefigure:after { content: " [" attr(id) "]"; }
td, th {
    padding: 0.4em;
}
img {
    border: none;
    padding-bottom: 0.5em;
}div.figure, div.tablefigure {
    text-align: center;
    font-size:90%;
    border: thin #959595 solid;
    padding: 1ex;
    margin: 1em;
    width: 90%;
    margin-left: 5%;
    margin-right: 0em;
    clear: both;

}
small.notebegin { font-size: 70%; vertical-align: super; counter-increment: footnote; }
small.noteend { font-size: 70%; vertical-align: super; }
small.noteend:before {  content: counter(footnote) }
small.note:before { content: counter(footnote) ": " }
body { counter-reset: section subsection subsubsection footnote; }

small.note {
    font-size: 76%;
    clear: right;
    width: 40%;
    border: thin #959595 solid;
    float: right;
    margin: 0.5em;
    margin-right: 0em;
    padding: 0.5em;
}
h2 { border: #8F1310 solid 2px; padding: 0.2em; }
h3 { text-decoration: underline;}
pre {
    position: relative; left: 5%; width: 90%; clear: left;
}
div.sidepane {
  right: 0.400000%; width: 19.000000%; padding: 0.900000%;
  border-left: #070707 ridge 1px;
    top: 2px;
    position:fixed;
    overflow: auto;
    bottom: 2px;
}
div.content {
  left: 0.400000%; right: 22.000000%; padding: 0.900000%;
    top: 2px;
    position: absolute;
    text-align: justify;
}
</style>
<title>[DBW]/module_std</title>
</head>
<body>
<div class="sidepane">
<b>Page:</b> [DBW]/module_std <br/><hr/>
<div class="p"><a href="./Main.html">Main</a>&nbsp;<a href="#">Top</a>&nbsp;<a href="#pagefoot">Bottom</a><br/>
 <a href="http://bracetax.berlios.de/bracetax_syntax.html">Bracetax Syntax</a></div>
<hr/>
<b>Menu: </b><div class="p dibrawi_menup">
<ul class="dibrawi_menuul">
 <li class="dibrawi_menuli"> <a href="././Build.html" class="dibrawi_menua">Build</a> </li>
<li class="dibrawi_menuli"> <a href="././Main.html" class="dibrawi_menua">Main</a> </li>
<li class="dibrawi_menuli"> <a href="././main_test.html" class="dibrawi_menua">main_test</a> </li>
<li class="dibrawi_menuli"> <a href="././module_std.html" class="dibrawi_menua">module_std</a> </li>
<li class="dibrawi_menuli"> <a href="././stiel_interface.html" class="dibrawi_menua">stiel_interface</a> </li>
</ul>
 </div>
<hr/>
<b>Table of contents:</b><br/><br/>
</div>
<div class="content">



<div class="header">

  <h1><tt>Module Promiwag_std</tt></h1>
  <div class="subtitle">The Pervasived Module</div>
</div> <!-- END HEADER -->
<div class="p">
 </div>
<h2>From The Libraries</h2>
<div class="p"> Instead of using directly modules from the standard library, extlib, or others. <i>Promiwag</i> tries to use renamed modules, enhanced and chosen in the right library.    </div>
&nbsp;<div class="p"><b>•</b>   <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Printf.html">Printf</a> from the standard library.  </div>
<pre>
<span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">Printf</span>
</pre>&nbsp;<div class="p"><b>•</b>   PolyComp is from <a href="http://code.google.com/p/yaboon/">YaBoon</a> (c.f. <a href="http://yaboon.googlecode.com/svn/trunk/PolyComp/PolyComp.ml">PolyComp.ml</a>).  </div>
<pre>
<span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">Promiwag_Yaboon_PolyComp</span>.<span style="color:#0033cc">CompAndNoPolyPhy</span>
</pre>&nbsp;<div class="p"><b>•</b>   Common &ldquo;List&rdquo; module. It uses <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/ExtList.List.html">ExtList.List</a> and <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/ListLabels.html">ListLabels</a>.<br/>
 The <tt>List</tt> module is then forbidden.   </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Ls</span>: <span style="color:#990099">sig</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">ExtList</span>.<span style="color:#0033cc">List</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">ListLabels</span>
  <span style="color:green">val</span> find_opt : f:('a -&gt; bool) -&gt; 'a list -&gt; 'a option
<span style="color:#990099">end</span>
<span style="color:green">val</span> (@): 'a list -&gt; 'a list -&gt; 'a list
<span style="color:green">module</span> <span style="color:#0033cc">List</span>: <span style="color:#990099">sig</span> <span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   The      <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/Option.html">Option</a> module from Extlib.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Opt</span>: <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">Option</span>
<span style="color:green">module</span> <span style="color:#0033cc">Option</span>: <span style="color:#990099">sig</span> <span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   This module name voluntarily forbids the Str module of the str     library. It uses <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/ExtString.html">ExtString</a> and <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/ExtString.String.html">ExtString.String</a>.   </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Str</span>: <span style="color:#990099">sig</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">ExtString</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">ExtString</span>.<span style="color:#0033cc">String</span>
  <span style="color:#990000">(* include module type of StringLabels *)</span>
  <span style="color:green">val</span> multi_replace : str:string -&gt; sub:string -&gt; by:string -&gt; string
<span style="color:#990099">end</span>
<span style="color:green">module</span> <span style="color:#0033cc">String</span>: <span style="color:#990099">sig</span> <span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   Hash tables, from <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/ExtHashtbl.Hashtbl.html">ExtHashtbl.Hashtbl</a>.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Ht</span>: <span style="color:#990099">sig</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">ExtHashtbl</span>.<span style="color:#0033cc">Hashtbl</span>
  <span style="color:green">val</span> find_opt : ('a, 'b) t -&gt; 'a -&gt; 'b option
  <span style="color:green">val</span> value_list : ('a, 'b) t -&gt; 'b list
<span style="color:#990099">end</span>
<span style="color:green">module</span> <span style="color:#0033cc">Hashtbl</span>: <span style="color:#990099">sig</span> <span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   Input/Output, also from Extlib: <a href="http://ocaml-extlib.googlecode.com/svn/doc/apiref/IO.html">IO</a>.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Io</span>: <span style="color:#990099">sig</span>
  <span style="color:#cc9900">include</span> <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">IO</span>
  <span style="color:green">val</span> open_in : string -&gt; input
  <span style="color:green">val</span> open_out : string -&gt; unit output
  <span style="color:green">val</span> stdout : unit output
  <span style="color:green">val</span> with_file_out : string -&gt; (unit output -&gt; 'a) -&gt; 'a
  <span style="color:green">val</span> with_file_in : string -&gt; (input -&gt; 'a) -&gt; 'a
  <span style="color:green">val</span> with_new_tmp :
    ?suffix:string -&gt;
    ?prefix:string -&gt; (unit output -&gt; string -&gt; 'a) -&gt; 'a
<span style="color:#990099">end</span>
<span style="color:green">module</span> <span style="color:#0033cc">IO</span>: <span style="color:#990099">sig</span> <span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   The      <a href="http://martin.jambon.free.fr/easy-format-doc/Easy_format.html">Easy_format</a> library.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Easy_format</span>: <span style="color:green">module</span> <span style="color:green">type</span> <span style="color:green">of</span> <span style="color:#0033cc">Easy_format</span>
</pre><div class="p"></div>
<h2>New modules</h2>
<div class="p"> </div>
&nbsp;<div class="p"><b>•</b>   A Stack of Maps.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Environment</span> : <span style="color:#990099">sig</span>
  <span style="color:green">type</span> ('a, 'b) environment
  <span style="color:green">type</span> ('a, 'b) t = ('a, 'b) environment
  <span style="color:green">val</span> empty : ('a, 'b) environment
  <span style="color:green">val</span> of_list : ('a * 'b) list -&gt; ('a, 'b) environment
  <span style="color:green">val</span> push : ('a, 'b) environment -&gt; ('a, 'b) environment
  <span style="color:green">val</span> pop : ('a, 'b) environment -&gt; ('a, 'b) environment
  <span style="color:green">val</span> add : ('a, 'b) environment -&gt; 'a -&gt; 'b -&gt; ('a, 'b) environment
  <span style="color:green">val</span> find_opt :
    ?cmp:('a -&gt; 'a -&gt; bool) -&gt; ('a, 'b) environment -&gt; 'a -&gt; 'b option
  <span style="color:green">val</span> iter : f:('a * 'b -&gt; unit) -&gt; ('a, 'b) environment -&gt; unit
  <span style="color:green">val</span> metamap :
    map:('a * 'b -&gt; 'c) -&gt;
    reduce:('c list -&gt; 'd) -&gt; ('a, 'b) environment -&gt; 'd list
<span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   This is actually a wrapper around the <tt>Queue</tt> module of the stdlib.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">FIFO</span> : <span style="color:#990099">sig</span>
  <span style="color:green">type</span> 'a t
  <span style="color:green">val</span> empty: unit -&gt; 'a t
  <span style="color:green">val</span> of_list : 'a list -&gt; 'a t
  <span style="color:green">val</span> push : 'a t -&gt; 'a -&gt; unit
  <span style="color:green">val</span> pop : 'a t -&gt; 'a option
  <span style="color:green">val</span> push_list : 'a t -&gt; 'a list -&gt; unit
  <span style="color:green">val</span> consume : f:('a -&gt; 'b) -&gt; 'a t -&gt; unit
<span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   Imperatively returns unique identifiers.  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Unique</span> : <span style="color:#990099">sig</span>
  <span style="color:green">val</span> name : string -&gt; string
  <span style="color:green">val</span> int : unit -&gt; int
<span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   Associate integers to strings (for now it is not a hash; it is      kind of &ldquo;bijective&rdquo;).  </div>
<pre>
<span style="color:green">module</span> <span style="color:#0033cc">Hash</span> : <span style="color:#990099">sig</span>
  <span style="color:green">val</span> string : string -&gt; int 
<span style="color:#990099">end</span>
</pre>&nbsp;<div class="p"><b>•</b>   Debug printf-ing.  </div>
<pre>
<span style="color:green">val</span> ( $ ) : ('a -&gt; 'b) -&gt; 'a -&gt; 'b
<span style="color:green">val</span> debug_mode : [ <span style="color:#0033cc">`</span>silent <span style="color:#77aaaa">|</span> <span style="color:#0033cc">`</span>stdout ] ref
<span style="color:green">val</span> debug : string -&gt; unit
<span style="color:green">val</span> code : string -&gt; string
</pre><div class="p"></div>
<h2>Meta</h2>
<div class="p"> Document generated with: <pre>
caml2html -nf  -ext "b: brtx" -ext "i: echo ''" promiwag_std.mli
</pre> Or <pre>
mk() {
echo "{bypass endofbigbypass}" &gt; /tmp/caml2html.brtx
sed '/^$/d' promiwag_std.mli | \
 caml2html -nf -inline -body -ext "b: brtx" -ext "i: echo ''" \
  -ext "bq: cat &gt; /tmp/ttt; echo '{~}{b|•} ' &gt; /tmp/uuu ; cat /tmp/ttt &gt;&gt; /tmp/uuu ; echo '' &gt;&gt; /tmp/uuu ; brtx -i /tmp/uuu" | \
 sed -n '1h;1!H;${;g;s/&lt;pre&gt;[\n ]*&lt;\/pre&gt;//g;p;}' \
 &gt;&gt; /tmp/caml2html.brtx
echo "{endofbi""gbypass}" &gt;&gt; /tmp/caml2html.brtx
mv /tmp/caml2html.brtx module_std.brtx
  echo Done
}
</pre> (for the super-multi-line sed see  <a href="http://austinmatzko.com/2008/04/26/sed-multi-line-search-and-replace/">this post</a>) Or <pre>
caml2html -make-latex-defs /tmp/ttt.tex 
echo "{bypass endofbigbypass}" &gt; /tmp/caml2htmltex.brtx
cat /tmp/ttt.tex &gt;&gt; /tmp/caml2htmltex.brtx
sed '/^$/d' promiwag_std.mli | \
caml2html -body -latex  -ext "b: brtx -latex" -ext "i: echo ''" \
&gt;&gt; /tmp/caml2htmltex.brtx
echo "{endofbi""gbypass}" &gt;&gt; /tmp/caml2htmltex.brtx
brtx -doc -latex -use-package alltt  -i /tmp/caml2htmltex.brtx -o /tmp/ttt.tex
</pre> </div>


<div id="pagefoot" />
</div>
</body></html>
